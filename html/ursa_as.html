<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create raster image from R objects or GDAL raster files.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="file:///C:/Software/R/doc/html/R.css" />
</head><body>

<table width="100%" summary="page for as.ursa"><tr><td>as.ursa</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>
Create raster image from R objects or GDAL raster files.
</h2>

<h3>Description</h3>

<p><code>as.ursa</code> converts <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> <span class="pkg">base</span> objects <code><a href="../../base/html/matrix.html">matrix</a></code>, <code><a href="../../base/html/array.html">array</a></code>, <code><a href="../../base/html/numeric.html">numeric</a></code>, <code><a href="../../base/html/data.frame.html">data.frame</a></code> <code><a href="../../base/html/list.html">list</a></code>, <span class="pkg">sp</span> objects <code><a href="../../sp/html/SpatialGridDataFrame.html">SpatialGridDataFrame</a></code>, <code><a href="../../sp/html/SpatialGridDataFrame.html">SpatialPixelsDataFrame</a></code> and <code><a href="../../sp/html/SpatialPoints.html">SpatialPointsDataFrame</a></code>, <span class="pkg">raster</span> objects <code><a href="../../raster/html/raster.html">raster</a></code>, <code><a href="../../raster/html/stack.html">stack</a></code> and <code><a href="../../raster/html/brick.html">brick</a></code>, and GDAL raster files (using functions from <span class="pkg">rgdal</span> package) to <code>ursaRaster</code> object.
</p>


<h3>Usage</h3>

<pre>
as.ursa(obj, ...)
as_ursa(obj, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>obj</code></td>
<td>

<p><span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object for coercion
</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>

<p>Depending on class of <code>obj</code>, arguments are passed to repsective functions.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>as_ursa</code> is a synonym to <code>as.ursa</code>.
</p>
<p>This is a high-level function to create <code>ursaRaster</code> objects. The follwed classes of <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> objects are implemented:
</p>

<table summary="Rd table">
<tr>
 <td style="text-align: left;">
   &lsquo;Data Class&rsquo; </td><td style="text-align: left;"> &lsquo;Appropriate method&rsquo;</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../base/html/array.html">array</a></code> </td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../base/html/matrix.html">matrix</a></code> </td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../base/html/numeric.html">numeric</a></code> </td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../base/html/data.frame.html">data.frame</a></code> </td><td style="text-align: left;"> <code><a href="../../ursa/html/allocate.html">allocate</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../sp/html/SpatialPoints.html">SpatialPointsDataFrame</a></code> (<span class="pkg">sp</span>)</td><td style="text-align: left;"> <code><a href="../../ursa/html/allocate.html">allocate</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../sp/html/SpatialGridDataFrame.html">SpatialPixelsDataFrame</a></code> (<span class="pkg">sp</span>)</td><td style="text-align: left;"> <code><a href="../../ursa/html/allocate.html">allocate</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../sp/html/SpatialGridDataFrame.html">SpatialGridDataFrame</a></code> (<span class="pkg">sp</span>)</td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../ursa/html/classStack.html">list</a></code> of <code>ursaRaster</code> objects </td><td style="text-align: left;"> <code><a href="../../ursa/html/classStack.html">unlist</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../sf/html/gdal.html">list</a></code> returned by <code><a href="../../sf/html/gdal.html">sf::gdal_read</a></code> </td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../base/html/list.html">list</a></code> <em>(general)</em> </td><td style="text-align: left;"> Items <code>$x</code> and <code>$y</code> are required, If lengths of <code>$x</code> and <code>$y</code> are equal to dim of data, then <code><a href="../../ursa/html/allocate.html">allocate</a></code>, else: 1) <a href="../../ursa/html/classGrid.html">raster grid</a> is defined from <code>$x</code> and <code>$y</code>, 2) <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code> is called.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../ggmap/html/ggmap.html">ggmap</a></code> (<span class="pkg">ggmap</span>) </td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code>.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../raster/html/raster.html">raster</a></code> (<span class="pkg">raster</span>)</td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code>.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../raster/html/brick.html">brick</a></code> (<span class="pkg">raster</span>)</td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code>.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../raster/html/stack.html">stack</a></code> (<span class="pkg">raster</span>)</td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code>.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../magick/html/editing.html">bitmap</a></code> (<span class="pkg">magick</span>)</td><td style="text-align: left;"> <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code>.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="../../base/html/character.html">character</a></code> (GDAL supported file name) </td><td style="text-align: left;"> <code><a href="../../ursa/html/conn.read_gdal.html">read_gdal</a></code>.
</td>
</tr>

</table>

<p>Generally, <code><a href="../../ursa/html/allocate.html">allocate</a></code> is used for objects with non-regular grid, and <code><a href="../../ursa/html/ursa_new.html">ursa_new</a></code> is used for regular grids. The <a href="../../ursa/html/classGrid.html">raster grid</a> is defined from object properties or from <a href="../../ursa/html/session.html">sessional grid</a>.
</p>
<p>Color tables are supported for GDAL file names and <span class="pkg">raster</span> objects (raster, brick, stack).
</p>
<p>For ENVI *.hdr Labelled Raster Files there are alternatives:
</p>

<ol>
<li><p> Read object with GDAL (<code><a href="../../ursa/html/conn.read_gdal.html">read_gdal</a></code>);
</p>
</li>
<li><p> Read object without GDAL (<code><a href="../../ursa/html/conn.read_envi.html">read_envi</a></code>).
</p>
</li></ol>



<h3>Value</h3>

<p>Object of class <code>ursaRaster</code>
</p>


<h3>Author(s)</h3>

<p>Nikita Platonov <a href="mailto:platonov@sevin.ru">platonov@sevin.ru</a>
</p>


<h3>Examples</h3>

<pre>
session_grid(NULL)
a1 &lt;- as.ursa(volcano)
print(a1)
display(a1)

session_grid(NULL)
b &lt;- ursa_dummy(mul=1/16,bandname=format(Sys.Date()+seq(3)-1,"%A"))
print(b)

c1 &lt;- b[[1]] ## equal to 'c1 &lt;- as.matrix(b[1],coords=TRUE)'
str(c1)
b1a &lt;- as.ursa(c1)
print(c(original=b[1],imported=b1a))
print(c(projection.b1a=ursa_proj(b1a)))
session_grid(NULL)
b1b &lt;- as.ursa(c1$z)
print(b1b)
print(c(projection.b1b=ursa_proj(b1b)))

c2 &lt;- as.data.frame(b)
str(c2)
session_grid(NULL)
b2a &lt;- as.ursa(c2)
print(b2a)

session_grid(NULL)
attr(c2,"proj4") &lt;- NULL
b2b &lt;- as.ursa(c2)
print(b2b)
print(ursa_grid(b2b))

c3 &lt;- unclass(as.matrix(b,coords=TRUE))
str(c3)
session_grid(b)
b3a &lt;- as.ursa(c3)
print(b3a)
print(ursa_grid(b3a))
session_grid(NULL)
b3b &lt;- as.ursa(c3)
print(b3b)
print(ursa_grid(b3b))

c4 &lt;- as.array(b)
str(c4)
session_grid(b)
b4a &lt;- as.ursa(c4)
print(b4a)
print(ursa_grid(b4a))
session_grid(NULL)
b4b &lt;- as.ursa(c4)
print(b4b)
print(ursa_grid(b4b))

n &lt;- 20
c5 &lt;- data.frame(y=runif(n,min=1000000,max=5000000)
                ,x=runif(n,min=-3000000,max=1000000)
                ,value=runif(n,min=0,max=10))
print(head(c5))
session_grid(b)
b5a &lt;- as.ursa(c5)
print(b5a)
display(b5a)
session_grid(NULL)
b5b &lt;- as.ursa(c5)
print(b5b)
display(b5b)

b6 &lt;- as.ursa(system.file("pictures/erdas_spnad83.tif",package="rgdal"))
print(b6)
display(b6,coast=FALSE,col="orange")

## Not run: 
require(raster)
r &lt;- brick(system.file("external/rlogo.gri",package="raster"))
print(r)
b7 &lt;- as.ursa(r)
ursa_proj(b7) &lt;- ""
print(b7)
display_rgb(b7)
## End(Not run)
</pre>


</body></html>
